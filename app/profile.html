<!DOCTYPE html>
<html>

<head>
<!--
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
See LICENSE-CODE in the project root for details.
-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Profile</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="themes.css">
    <link rel="icon" href="../assets/icon.ico">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <div class="page-wrapper">
        <header>
            <!-- <a id="website-title" href="../index.html">Is This a Phish?</a> -->
            <a href="../index.html"><img src="../assets/transparent_long.png" height="15"></a>
            <ul>
                <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="learn.html"><i class="fa-solid fa-graduation-cap"></i> Learn</a></li>
                <li><a href="history.html"><i class="fa-solid fa-landmark"></i> History</a></li>
                <li><a class="active-page" href="profile.html"><i class="fa-solid fa-user"></i></a></li>
                <li><a href="settings.html"><i class="fa-solid fa-gear"></i></a></li>
                <li><a href="credits.html"><i class="fa-solid fa-hand-holding-heart"></i></a></li>
            </ul>
            <button id="menu-toggle"><i class="fa-solid fa-bars"></i></button>
        </header>

        <main>
            <div id="profile-page" class="center-content">
                <h1 class="title" id="username">User</h1>
                <i class="fa-solid fa-pen modal-class" id="change-username-btn"></i>

                <div id="profile-total-progress-summary"><h2>Total Completed</h2></div>
                <div class="center-content" id="profile-total-progress">
                    <div id="profile-total-progress-bar"></div>
                    <span id="profile-total-progress-text"></span>
                </div>

                <div id="profile-progress-container">
                    <div class="profile-progress-section">
                        <div id="profile-lesson-progress-summary"><h2>0/0 Lessons Completed</h2></div>
                        <div class="center-content" id="profile-lesson-progress">
                            <div id="profile-lesson-progress-bar"></div>
                            <span id="profile-lesson-progress-text"></span>
                        </div>
                    </div>

                    <div class="profile-progress-section">
                        <div id="profile-reading-progress-summary"><h2>0/0 Readings Completed</h2></div>
                        <div class="center-content" id="profile-reading-progress">
                            <div id="profile-reading-progress-bar"></div>
                            <span id="profile-reading-progress-text"></span>
                        </div>
                    </div>

                </div>
            </div>
        </main>

        <footer class="center-content"></footer>
    </div>
    <script src="profile.js"></script>
    <script src="load-stuff.js"></script>
    <script src="load-footer.js" defer></script>
    <script>
    // read saved username
    document.addEventListener("DOMContentLoaded", () => {
        const username = localStorage.getItem("username") || "User";
        document.getElementById("username").textContent = username;
    })
    </script>
    <script>
    const changeNameBtn = document.getElementById("change-username-btn");
    changeNameBtn.addEventListener("click", () => {
        const newUsername = prompt("Enter your new username: ", localStorage.getItem("username") || "User");
        if (newUsername) {
            localStorage.setItem("username", newUsername);
            document.getElementById("username").textContent = newUsername;
        }
    })
    </script>
</body>

</html>